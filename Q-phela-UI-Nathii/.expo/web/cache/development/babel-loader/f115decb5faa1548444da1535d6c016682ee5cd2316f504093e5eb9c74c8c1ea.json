{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AdminTips = function AdminTips() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tips = _useState2[0],\n    setTips = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    deleteMessage = _useState4[0],\n    setDeleteMessage = _useState4[1];\n  useEffect(function () {\n    axios.get('http://localhost:3000/admin/tips').then(function (response) {\n      setTips(response.data.safety_tips);\n    }).catch(function (error) {\n      console.error('Error fetching tips:', error);\n    });\n  }, []);\n  var handleDeleteTip = function handleDeleteTip(tip_id) {\n    axios.delete(`http://localhost:3000/admin/tips/${tip_id}`).then(function (response) {\n      console.log(response.data.message);\n      setTips(function (prevTips) {\n        return prevTips.filter(function (tip) {\n          return tip.tip_id !== tip_id;\n        });\n      });\n      setDeleteMessage('Tip successfully deleted.');\n      setTimeout(function () {\n        setDeleteMessage('');\n      }, 3000);\n    }).catch(function (error) {\n      console.error('Error deleting tip:', error);\n      setDeleteMessage('Error deleting tip.');\n    });\n  };\n  return _jsxs(\"div\", {\n    children: [_jsx(\"style\", {\n      children: `\n          .heading {\n            font-size: 24px;\n            margin-bottom: 16px;\n          }\n         \n          .message {\n            padding: 10px;\n            border-radius: 5px;\n            font-weight: bold;\n          }\n         \n          .success {\n            background-color: lightgreen;\n          }\n         \n          .error {\n            background-color: lightcoral;\n          }\n         \n          .tip-container {\n            display: flex;\n            align-items: center;\n            margin-bottom: 10px;\n          }\n         \n          .tip-box {\n            background-color: lightgrey;\n            padding: 10px;\n            border-radius: 5px;\n            flex: 1;\n            margin-right: 10px;\n          }\n         \n          .tip-description {\n            margin: 0;\n          }\n         \n          .tip-date {\n            margin: 0;\n            font-size: 12px;\n          }\n         \n          .delete-button {\n            background-color: blue;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 5px;\n            cursor: pointer;\n          }\n         \n          .delete-button:hover {\n            background-color: darkblue;\n          }\n        `\n    }), _jsx(\"h1\", {\n      className: \"heading\",\n      children: \"Admin Tips\"\n    }), deleteMessage && _jsx(\"p\", {\n      className: `message ${deleteMessage.includes('success') ? 'success' : 'error'}`,\n      children: deleteMessage\n    }), tips.map(function (tip) {\n      return _jsxs(\"div\", {\n        className: \"tip-container\",\n        children: [_jsxs(\"div\", {\n          className: \"tip-box\",\n          children: [_jsx(\"p\", {\n            className: \"tip-description\",\n            children: tip.tip_description\n          }), _jsx(\"p\", {\n            className: \"tip-date\",\n            children: new Date(tip.date).toLocaleString()\n          })]\n        }), _jsx(\"button\", {\n          className: \"delete-button\",\n          onClick: function onClick() {\n            return handleDeleteTip(tip.tip_id);\n          },\n          children: \"Delete Tip\"\n        })]\n      }, tip.tip_id);\n    })]\n  });\n};\nexport default AdminTips;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminTips","_useState","_useState2","_slicedToArray","tips","setTips","_useState3","_useState4","deleteMessage","setDeleteMessage","get","then","response","data","safety_tips","catch","error","console","handleDeleteTip","tip_id","delete","log","message","prevTips","filter","tip","setTimeout","children","className","includes","map","tip_description","Date","date","toLocaleString","onClick"],"sources":["D:/My Documents/Q-phela-UI/src/AdminScreen/AdminTips.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nconst AdminTips = () => {\r\n  const [tips, setTips] = useState([]);\r\n  const [deleteMessage, setDeleteMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Fetch tips from your API\r\n    axios.get('http://localhost:3000/admin/tips')\r\n      .then(response => {\r\n        setTips(response.data.safety_tips);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching tips:', error);\r\n      });\r\n  }, []);\r\n\r\n  const handleDeleteTip = (tip_id) => {\r\n    // Send a request to delete the tip\r\n    axios.delete(`http://localhost:3000/admin/tips/${tip_id}`)\r\n      .then(response => {\r\n        console.log(response.data.message);\r\n        // Remove the deleted tip from the UI\r\n        setTips(prevTips => prevTips.filter(tip => tip.tip_id !== tip_id));\r\n        setDeleteMessage('Tip successfully deleted.'); // Set the success message\r\n        setTimeout(() => {\r\n          setDeleteMessage(''); // Clear the success message after a few seconds\r\n        }, 3000);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error deleting tip:', error);\r\n        setDeleteMessage('Error deleting tip.'); // Set the error message\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <style>\r\n        {`\r\n          .heading {\r\n            font-size: 24px;\r\n            margin-bottom: 16px;\r\n          }\r\n         \r\n          .message {\r\n            padding: 10px;\r\n            border-radius: 5px;\r\n            font-weight: bold;\r\n          }\r\n         \r\n          .success {\r\n            background-color: lightgreen;\r\n          }\r\n         \r\n          .error {\r\n            background-color: lightcoral;\r\n          }\r\n         \r\n          .tip-container {\r\n            display: flex;\r\n            align-items: center;\r\n            margin-bottom: 10px;\r\n          }\r\n         \r\n          .tip-box {\r\n            background-color: lightgrey;\r\n            padding: 10px;\r\n            border-radius: 5px;\r\n            flex: 1;\r\n            margin-right: 10px;\r\n          }\r\n         \r\n          .tip-description {\r\n            margin: 0;\r\n          }\r\n         \r\n          .tip-date {\r\n            margin: 0;\r\n            font-size: 12px;\r\n          }\r\n         \r\n          .delete-button {\r\n            background-color: blue;\r\n            color: white;\r\n            border: none;\r\n            padding: 10px 20px;\r\n            border-radius: 5px;\r\n            cursor: pointer;\r\n          }\r\n         \r\n          .delete-button:hover {\r\n            background-color: darkblue;\r\n          }\r\n        `}\r\n      </style>\r\n      <h1 className=\"heading\">Admin Tips</h1>\r\n      {deleteMessage && <p className={`message ${deleteMessage.includes('success') ? 'success' : 'error'}`}>{deleteMessage}</p>}\r\n      {tips.map(tip => (\r\n        <div key={tip.tip_id} className=\"tip-container\">\r\n          <div className=\"tip-box\">\r\n            <p className=\"tip-description\">{tip.tip_description}</p>\r\n            <p className=\"tip-date\">{new Date(tip.date).toLocaleString()}</p>\r\n          </div>\r\n          <button className=\"delete-button\" onClick={() => handleDeleteTip(tip.tip_id)}>Delete Tip</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminTips;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}