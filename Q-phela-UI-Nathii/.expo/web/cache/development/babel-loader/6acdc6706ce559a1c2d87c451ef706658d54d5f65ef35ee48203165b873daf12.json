{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport { FontAwesome } from '@expo/vector-icons';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AdminTips = function AdminTips() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tips = _useState2[0],\n    setTips = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    deleteMessage = _useState4[0],\n    setDeleteMessage = _useState4[1];\n  var navigation = useNavigation();\n  useEffect(function () {\n    axios.get('http://localhost:3000/admin/tips').then(function (response) {\n      setTips(response.data.safety_tips);\n    }).catch(function (error) {\n      console.error('Error fetching tips:', error);\n    });\n  }, []);\n  var handleDeleteTip = function handleDeleteTip(tip_id) {\n    axios.delete(`http://localhost:3000/admin/tips/${tip_id}`).then(function (response) {\n      console.log(response.data.message);\n      setTips(function (prevTips) {\n        return prevTips.filter(function (tip) {\n          return tip.tip_id !== tip_id;\n        });\n      });\n      setDeleteMessage('Tip successfully deleted.');\n      setTimeout(function () {\n        setDeleteMessage('');\n      }, 3000);\n    }).catch(function (error) {\n      console.error('Error deleting tip:', error);\n      setDeleteMessage('Error deleting tip.');\n    });\n  };\n  var handleBack = function handleBack() {\n    console.log('Go back button clicked.');\n    navigation.goBack();\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.heading,\n      children: [_jsx(Text, {\n        style: styles.headingText,\n        children: \"Admin Tips\"\n      }), _jsx(TouchableOpacity, {\n        style: styles.backButton,\n        onPress: handleBack,\n        children: _jsx(FontAwesome, {\n          name: \"arrow-left\",\n          size: 24,\n          color: \"blue\"\n        })\n      })]\n    }), deleteMessage && _jsx(Text, {\n      style: [styles.message, deleteMessage.includes('success') ? styles.success : styles.error],\n      children: deleteMessage\n    }), tips.map(function (tip) {\n      return _jsxs(View, {\n        style: styles.tipContainer,\n        children: [_jsxs(View, {\n          style: styles.tipBox,\n          children: [_jsx(Text, {\n            style: styles.tipDescription,\n            children: tip.tip_description\n          }), _jsx(Text, {\n            style: styles.tipDate,\n            children: new Date(tip.date).toLocaleString()\n          })]\n        }), _jsx(TouchableOpacity, {\n          style: styles.deleteButton,\n          onPress: function onPress() {\n            return handleDeleteTip(tip.tip_id);\n          },\n          children: _jsx(Text, {\n            style: styles.deleteButtonText,\n            children: \"Delete Tip\"\n          })\n        })]\n      }, tip.tip_id);\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  heading: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16\n  },\n  headingText: {\n    fontSize: 24\n  },\n  message: {\n    padding: 10,\n    borderRadius: 5,\n    fontWeight: 'bold'\n  },\n  success: {\n    backgroundColor: 'lightgreen'\n  },\n  error: {\n    backgroundColor: 'lightcoral'\n  },\n  tipContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10\n  },\n  tipBox: {\n    backgroundColor: 'lightgrey',\n    padding: 10,\n    borderRadius: 5,\n    flex: 1,\n    marginRight: 10\n  },\n  tipDescription: {\n    margin: 0\n  },\n  tipDate: {\n    margin: 0,\n    fontSize: 12\n  },\n  deleteButton: {\n    backgroundColor: 'blue',\n    borderRadius: 5,\n    padding: 10\n  },\n  deleteButtonText: {\n    color: 'white',\n    textAlign: 'center'\n  },\n  backButton: {\n    marginLeft: 'auto'\n  }\n});\nexport default AdminTips;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigation","FontAwesome","TouchableOpacity","View","Text","StyleSheet","jsx","_jsx","jsxs","_jsxs","AdminTips","_useState","_useState2","_slicedToArray","tips","setTips","_useState3","_useState4","deleteMessage","setDeleteMessage","navigation","get","then","response","data","safety_tips","catch","error","console","handleDeleteTip","tip_id","delete","log","message","prevTips","filter","tip","setTimeout","handleBack","goBack","style","styles","container","children","heading","headingText","backButton","onPress","name","size","color","includes","success","map","tipContainer","tipBox","tipDescription","tip_description","tipDate","Date","date","toLocaleString","deleteButton","deleteButtonText","create","flex","padding","flexDirection","justifyContent","alignItems","marginBottom","fontSize","borderRadius","fontWeight","backgroundColor","marginRight","margin","textAlign","marginLeft"],"sources":["D:/My Documents/Q-phela-UI-Nathii (3)/Q-phela-UI-Nathii (2)/Q-phela-UI-Nathii/Q-phela-UI-Nathii/src/AdminScreen/AdminTips.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\n\nimport { FontAwesome } from '@expo/vector-icons'; // Import FontAwesome icons\nimport { TouchableOpacity, View, Text, StyleSheet } from 'react-native';\nconst AdminTips = () => {\n  const [tips, setTips] = useState([]);\n  const [deleteMessage, setDeleteMessage] = useState('');\n  const navigation = useNavigation();  // Get the navigation object\n\n  useEffect(() => {\n    // Fetch tips from your API\n    axios.get('http://localhost:3000/admin/tips')\n      .then(response => {\n        setTips(response.data.safety_tips);\n      })\n      .catch(error => {\n        console.error('Error fetching tips:', error);\n      });\n  }, []);\n\n  const handleDeleteTip = (tip_id) => {\n    // Send a request to delete the tip\n    axios.delete(`http://localhost:3000/admin/tips/${tip_id}`)\n      .then(response => {\n        console.log(response.data.message);\n        // Remove the deleted tip from the UI\n        setTips(prevTips => prevTips.filter(tip => tip.tip_id !== tip_id));\n        setDeleteMessage('Tip successfully deleted.'); // Set the success message\n        setTimeout(() => {\n          setDeleteMessage(''); // Clear the success message after a few seconds\n        }, 3000);\n      })\n      .catch(error => {\n        console.error('Error deleting tip:', error);\n        setDeleteMessage('Error deleting tip.'); // Set the error message\n      });\n  };\n\n  const handleBack = () => {\n   \n    console.log('Go back button clicked.');\n    // Add the logic to go back to the previous page\n    navigation.goBack();  // Use navigation.goBack() here\n\n  };\n\n  return (\n   \n      <View style={styles.container}>\n        <View style={styles.heading}>\n          <Text style={styles.headingText}>Admin Tips</Text>\n          <TouchableOpacity style={styles.backButton} onPress={handleBack}>\n            <FontAwesome name=\"arrow-left\" size={24} color=\"blue\" />\n          </TouchableOpacity>\n        </View>\n \n        {deleteMessage && (\n          <Text\n            style={[\n              styles.message,\n              deleteMessage.includes('success') ? styles.success : styles.error,\n            ]}\n          >\n            {deleteMessage}\n          </Text>\n        )}\n \n        {tips.map((tip) => (\n          <View key={tip.tip_id} style={styles.tipContainer}>\n            <View style={styles.tipBox}>\n              <Text style={styles.tipDescription}>{tip.tip_description}</Text>\n              <Text style={styles.tipDate}>\n                {new Date(tip.date).toLocaleString()}\n              </Text>\n            </View>\n            <TouchableOpacity\n              style={styles.deleteButton}\n              onPress={() => handleDeleteTip(tip.tip_id)}\n            >\n              <Text style={styles.deleteButtonText}>Delete Tip</Text>\n            </TouchableOpacity>\n          </View>\n        ))}\n      </View>\n    );\n  };\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      padding: 20,\n    },\n    heading: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: 16,\n    },\n    headingText: {\n      fontSize: 24,\n    },\n    message: {\n      padding: 10,\n      borderRadius: 5,\n      fontWeight: 'bold',\n    },\n    success: {\n      backgroundColor: 'lightgreen',\n    },\n    error: {\n      backgroundColor: 'lightcoral',\n    },\n    tipContainer: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      marginBottom: 10,\n    },\n    tipBox: {\n      backgroundColor: 'lightgrey',\n      padding: 10,\n      borderRadius: 5,\n      flex: 1,\n      marginRight: 10,\n    },\n    tipDescription: {\n      margin: 0,\n    },\n    tipDate: {\n      margin: 0,\n      fontSize: 12,\n    },\n    deleteButton: {\n      backgroundColor: 'blue',\n      borderRadius: 5,\n      padding: 10,\n    },\n    deleteButtonText: {\n      color: 'white',\n      textAlign: 'center',\n    },\n    backButton: {\n      marginLeft: 'auto',\n    },\n  });\n\nexport default AdminTips;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}